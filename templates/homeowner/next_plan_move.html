{% extends "homeowner/layout.html" %}
{% block title %}Plan My Next Move{% endblock %}

{% block homeowner_content %}
<div class="dashboard-main__header">
  <p class="dashboard-tagline">Make it intentional</p>
  <h1>Plan My Next Move</h1>
  <p>Gently walk through timeline, budget, needs, and feelings so your next home choice feels intentional.</p>
</div>

<div class="dashboard-section">
  <div class="card" style="background: linear-gradient(135deg, var(--light-cream) 0%, var(--soft-tan) 100%);">
    <form method="post" style="display: grid; gap: 1.5rem; max-width: 700px;">
      <div>
        <label for="timeline" style="display: block; font-size: 0.9rem; font-weight: 600; color: var(--olive-green); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 0.5rem;">When Are You Thinking About Moving?</label>
        <select id="timeline" name="timeline">
          {% set tl = plan.timeline if plan else '' %}
          <option value="Now" {% if tl == 'Now' %}selected{% endif %}>Now</option>
          <option value="1–3 months" {% if tl == '1–3 months' %}selected{% endif %}>In 1 to 3 months</option>
          <option value="3–6 months" {% if tl == '3–6 months' %}selected{% endif %}>In 3 to 6 months</option>
          <option value="6+ months" {% if tl == '6+ months' %}selected{% endif %}>In 6 months or later</option>
          <option value="Just browsing" {% if tl == 'Just browsing' %}selected{% endif %}>Just browsing ideas</option>
        </select>
      </div>

      <div>
        <label for="budget" style="display: block; font-size: 0.9rem; font-weight: 600; color: var(--olive-green); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 0.5rem;">Budget Range or Monthly Comfort Zone</label>
        <input id="budget" name="budget" value="{{ plan.budget if plan else '' }}" placeholder="Example: up to 450,000 or around 2,500 per month" />
      </div>

      <div>
        <label style="display: block; font-size: 0.9rem; font-weight: 600; color: var(--olive-green); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 0.5rem;">Are You Pre-Approved?</label>
        {% set pa = plan.preapproved if plan else '' %}
        <div style="display: flex; gap: 1.5rem; font-size: 0.95rem;">
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="radio" name="preapproved" value="Yes" {% if pa == 'Yes' %}checked{% endif %} />
            <span>Yes</span>
          </label>
          <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
            <input type="radio" name="preapproved" value="No" {% if pa == 'No' %}checked{% endif %} />
            <span>No, I'd like an introduction</span>
          </label>
        </div>
      </div>

      <div>
        <label for="areas" style="display: block; font-size: 0.9rem; font-weight: 600; color: var(--olive-green); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 0.5rem;">Where Would You Love to Live?</label>
        <textarea id="areas" name="areas" rows="2" placeholder="Neighborhoods, school districts, sides of town">{{ plan.areas if plan else '' }}</textarea>
      </div>

      <div>
        <label for="home_type" style="display: block; font-size: 0.9rem; font-weight: 600; color: var(--olive-green); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 0.5rem;">Home Type</label>
        <input id="home_type" name="home_type" value="{{ plan.home_type if plan else '' }}" placeholder="House, townhome, condo, new build, or mix" />
      </div>

      <div>
        <label for="beds_baths" style="display: block; font-size: 0.9rem; font-weight: 600; color: var(--olive-green); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 0.5rem;">Beds & Baths Needed</label>
        <input id="beds_baths" name="beds_baths" value="{{ plan.beds_baths if plan else '' }}" placeholder="Example: at least 3 beds and 2 baths" />
      </div>

      <div>
        <label for="must_haves" style="display: block; font-size: 0.9rem; font-weight: 600; color: var(--olive-green); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 0.5rem;">Top Must-Haves</label>
        <textarea id="must_haves" name="must_haves" rows="3" placeholder="Parking, yard, kitchen style, office space, school, and more">{{ plan.must_haves if plan else '' }}</textarea>
      </div>

      <div>
        <label for="dealbreakers" style="display: block; font-size: 0.9rem; font-weight: 600; color: var(--olive-green); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 0.5rem;">Dealbreakers</label>
        <textarea id="dealbreakers" name="dealbreakers" rows="2">{{ plan.dealbreakers if plan else '' }}</textarea>
      </div>

      <div>
        <label for="condition" style="display: block; font-size: 0.9rem; font-weight: 600; color: var(--olive-green); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 0.5rem;">Move-In Ready or Renovation Friendly?</label>
        <input id="condition" name="condition" value="{{ plan.condition if plan else '' }}" placeholder="Ready, light updates, or open to a bigger project" />
      </div>

      <div>
        <label for="feeling" style="display: block; font-size: 0.9rem; font-weight: 600; color: var(--olive-green); text-transform: uppercase; letter-spacing: 0.03em; margin-bottom: 0.5rem;">What Feeling Do You Want Your Next Home to Give You?</label>
        <textarea id="feeling" name="feeling" rows="3" placeholder="Cozy, peaceful, energized, space to host, simple to care for">{{ plan.feeling if plan else '' }}</textarea>
      </div>

      <button class="btn btn-primary" type="submit" style="align-self: flex-start;">
        Save My Next Home Plan
      </button>
    </form>
  </div>
</div>
{% endblock %}
